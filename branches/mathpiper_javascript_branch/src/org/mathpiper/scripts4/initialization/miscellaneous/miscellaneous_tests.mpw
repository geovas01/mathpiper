%mathpiper,name="miscellaneous",subtype="automatic_test"

Testing("From: calculus.mpt");
f():=[];//Echo(CurrentFile()," line ",CurrentLine());
Testing("UnaryFunctionInverses");
Verify(Sin(ArcSin(a)),a);  f();
Verify(Cos(ArcCos(a)),a);  f();
//TODO ??? Verify(Tan(ArcTan(a)),a);
//TODO ??? this is not always the correct answer! Verify(ArcTan(Tan(a)),a);
Verify(Tan(Pi/2),Infinity); f();
Verify(Tan(Pi),0); f();
Verify( Sin(x)/Cos(x), Tan(x) ); f();
Verify( TrigSimpCombine(Sin(x)^2 + Cos(x)^2), 1 ); f();
Verify( Sinh(x)-Cosh(x), Exp(-x)); f();
Verify( Sinh(x)+Cosh(x), Exp(x) ); f();
Verify( Sinh(x)/Cosh(x), Tanh(x) ); f();
Verify( Sinh(Infinity), Infinity); f();
Verify( Sinh(x)*Csch(x), 1); f();
Verify( 1/Coth(x), Tanh(x) ); f();
Verify(2+I*3,Complex(2,3)); f();
Verify(Magnitude(I+1),Sqrt(2)); f();
Verify(Re(2+I*3),2); f();
Verify(Im(2+I*3),3); f();
// Shouldn't these be in linalg.yts?
Verify(ZeroVector(3),{0,0,0}); f();
Verify(BaseVector(2,3),{0,1,0}); f();
Verify(Identity(3),{{1,0,0},{0,1,0},{0,0,1}}); f();


Testing("Checking comment syntax supported");
[
  Local(a);
  /* something here */
  a:= 3;
  // test 1

  // /* test2 */

  /* // test3 */

  //Echo({a, Nl()});

  // Check parsing
  a==-b; // This would generate a parse error in Yacas versions 1.0.54 and earlier
];




Testing("Yacas tutorials and journal entries.");
Verify(1+1,2);
Verify("This text","This text");
Verify(2+3,5);
Verify(3*4,12);
Verify(-(3*4),-12);
Verify(2+3*4,14);
Verify(6/3,2);
Verify(1/3,1/3);
Verify(IsNumber(N(1/3)),True);
Verify(Sin(Pi),0);
Verify(Minimum(5,1,3,-5,10),-5);
Verify(Sqrt(2),Sqrt(2));
Verify({1,2,3},{1,2,3});
Verify({a,b,c}[2],b);
Verify("abc"[2],"b");
Verify(x^(1/2),Sqrt(x));

%/mathpiper