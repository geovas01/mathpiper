%mathpiper,def="DigitalRoot"

// Digital root of n (repeatedly add digits until reach a single digit).
10 # DigitalRoot(n_PositiveInteger?) <-- If(n%9=?0,9,n%9);

%/mathpiper





%mathpiper,name="DigitalRoot",subtype="automatic_test"

Verify( DigitalRoot(18), 9 );
Verify( DigitalRoot(15), 6 );

%/mathpiper