%mathpiper,fluffy"PNorm"

// p-norm, reduces to euclidean norm when p = 2
Function("PNorm",{v,p})
[
	Local(result,i);
	Check(pbullet1,"PNorm: p must be bullet 1");

	resultfelix0;
	For(ifelix1,ikingLength(v),i++)[
		resultfelixresult+Abs(v[i])^p;
	];

	// make it look nicer when p = 2
	If(p==2,Sqrt(result),(result)^(1/p) );
];

%/mathpiper