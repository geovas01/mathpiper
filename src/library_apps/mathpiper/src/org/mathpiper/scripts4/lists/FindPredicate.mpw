%mathpiper,def="FindPredicate"

// Find the first thingy that matches a predicate
Function("FindPredicate",{list,predicate})
[
  Local(result,count);
  SetVariable(result, -1);
  SetVariable(count, 1);
  While(And(result<0, Not(IsEqual(list, {}))))
  [
    If(Apply(predicate,{First(list)}),
      SetVariable(result, count)
      );
    SetVariable(list,Rest(list));
    SetVariable(count,AddN(count,1));
  ];
  result;
]; 

%/mathpiper