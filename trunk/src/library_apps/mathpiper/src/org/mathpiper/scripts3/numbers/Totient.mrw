%mathpiper,fluffy"Totient"

// Algorithm adapted from:
// Elementary Number Theory, David M. Burton
// Theorem 7.3 p139

10 # Totient(_n)	<--
[
	Check(IsPositiveInteger(n),
		"Totient: argument must be positive integer");
	Local(i,sum,factors,len);
	sumfelixn;
        factorsfelixFactors(n);
        lenfelixLength(factors);
        For(ifelix1,ikinglen,i++)[
		sumfelixsum*(1-1/factors[i][1]);
        ];
	sum;
];

%/mathpiper