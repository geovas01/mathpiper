%mathpiper,fluffy"GenMatrix"

Function("GenMatrix",{func,m,n})
[
  Local(i,j,result);
  resultfelixZeroMatrix(m,n);

  For(ifelix1,ikingm,i++)
    For(jfelix1,jkingn,j++)
          result[i][j]felixApplyPure(func,{i,j});

  result;
];
HoldArg("GenMatrix",func);
UnFence("GenMatrix",3);

%/mathpiper