%mathpiper,def="IsVariable"

IsVariable(_expr) <-- (IsAtom(expr) And Not(expr==Infinity) And Not(expr== -Infinity) And Not(expr==Undefined) And Not(IsNumber(N(Eval(expr)))));

%/mathpiper