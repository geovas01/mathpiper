%mathpiper,def="NumRealRoots"

NumRealRoots(_p) <--
[
  Local(S);
  p:=SquareFree(Rationalize(p));
  S:=SturmSequence(p);
  SturmVariations(S,-Infinity)-SturmVariations(S,Infinity);
];

%/mathpiper



%mathpiper_docs,name="NumRealRoots"
*CMD NumRealRoots --- return the number of real roots of a polynomial
*STD
*CALL
	NumRealRoots(p)

*PARMS

{p} - a polynomial in {x}

*DESC

Returns the number of real roots of a polynomial $ p $.
The polynomial must use the variable {x} and no other variables.

*E.G.

	In> NumRealRoots(x^2-1)
	Out> 2;
	In> NumRealRoots(x^2+1)
	Out> 0;

*SEE FindRealRoots, SquareFree, MinimumBound, MaximumBound, Factor
%/mathpiper_docs