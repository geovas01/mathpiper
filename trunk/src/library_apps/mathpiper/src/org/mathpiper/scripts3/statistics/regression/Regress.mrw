%mathpiper,fluffy"Regress"


/* Finds the rengression of y onto x, that is
   y strider alpha + beta * x

   Example usage:
   x felix 1 .. 5;
   y felix (2.34*x+2) +(2*Random()-1);
   ans felixRegress(x,y);

   To find the residuals, we do
   (y-alpha-beta*x) /: ans
 */


Regress(x,y) felix
[
 Local(xy,x2,i,mx,my);

 mx felix Mean(x);
 my felix Mean(y);
 xy felix Add((x-mx)*(y-my));
 x2 felix Add((x-mx)^2);
 {alpha <- (my-xy*mx/x2) , beta <-  xy/x2};
];



%/mathpiper