<html>
<head>
  <title>Debugging in Yacas</title>
  <link rel="stylesheet" href="yacas.css" TYPE="text/css" MEDIA="screen">
</head>
<body>
<a name="c6">

</a>
<h1>
6. Debugging in Yacas
</h1>
<p> </p>
<a name="c6s1">

</a>
<h2>
<hr>6.1 Introduction
</h2>
When writing a code segment, it is generally a good idea to separate the
problem into many small functions. Not only can you then reuse these
functions on other problems, but it makes debugging easier too.


<p>
For debugging a faulty function, in addition to the usual trial-and-error method and the "print everything" method, Yacas offers some trace facilities. You can try to trace applications of rules during evaluation of the function (<b><tt>TraceRule()</tt></b>, <b><tt>TraceExp()</tt></b>) or see the stack after an error has occurred (<b><tt>TraceStack()</tt></b>). 


<p>
There is also an interactive debugger, which shall be introduced
in this chapter.


<p>
Finally, you may want to run a debugging version of Yacas. This
version of the executable maintains more information about 
the operations it performs, and can report on this. 


<p>
This chapter will start with the interactive debugger, as it
is the easiest and most useful feature to use, and then proceed
to explain the trace and profiling facilities. Finally, the
internal workings of the debugger will be explained. It is highly
customizable (in fact, most of the debugging code is written in
Yacas itself), so for bugs that are really difficult to track
one can write custom code to track it.


<p>

<a name="c6s2">

</a>
<h2>
<hr>6.2 The trace facilities
</h2>
The trace facilities are:


<p>
<ul><li></li><b><tt>TraceExp</tt></b> : traces the full expression, showing all calls to user- or system-defined functions, their arguments, and the return values. For complex functions this can become a long list of function calls.
<li></li><b><tt>TraceRule</tt></b> : traces one single user-defined function (rule). It shows each invocation, the arguments passed in, and the returned values. This is useful for tracking the behavior of that function in the environment it is intended to be used in.
<li></li><b><tt>TraceStack</tt></b> : shows a few last function calls before an error has occurred.
<li></li><b><tt>Profile</tt></b> : report on statistics (number of times functions
were called, etc.). Useful for performance analysis.
</ul>

<p>
The online manual pages (e.g. <b><tt>?TraceStack</tt></b>) have more information about the use of these functions.


<p>
An example invocation of <b><tt>TraceRule</tt></b> is


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; TraceRule(x+y)2+3*5+4;
</pre></tr>
</table>


<p>
Which should then show something to the effect of


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
  TrEnter(2+3*5+4);
    TrEnter(2+3*5);
       TrArg(2,2);
          TrArg(3*5,15);
       TrLeave(2+3*5,17);
        TrArg(2+3*5,17);
        TrArg(4,4);
    TrLeave(2+3*5+4,21);
Out&gt; 21;
</pre></tr>
</table>


<p>


<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2425144-1";
urchinTracker();
</script>
</body>

</html>
