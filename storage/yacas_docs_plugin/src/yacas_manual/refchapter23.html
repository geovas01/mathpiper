<html>
<head>
  <title>Control flow functions</title>
  <link rel="stylesheet" href="yacas.css" TYPE="text/css" MEDIA="screen">
</head>
<body>
<a name="c23">

</a>
(directly go to documentation on : <a href="refchapter23.html#MaxEvalDepth" target='Chapters' title="set the maximum evaluation depth">MaxEvalDepth</a>, <a href="refchapter23.html#Hold" target='Chapters' title="keep expression unevaluated">Hold</a>, <a href="refchapter23.html#Eval" target='Chapters' title="force evaluation of expression">Eval</a>, <a href="refchapter23.html#While" target='Chapters' title="loop while a condition is met">While</a>, <a href="refchapter23.html#Until" target='Chapters' title="loop until a condition is met">Until</a>, <a href="refchapter23.html#If" target='Chapters' title="branch point">If</a>, <a href="refchapter23.html#SystemCall" target='Chapters' title="pass a command to the shell">SystemCall</a>, <a href="refchapter23.html#Function" target='Chapters' title="declare or define a function">Function</a>, <a href="refchapter23.html#Macro" target='Chapters' title="declare or define a macro">Macro</a>, <a href="refchapter23.html#Use" target='Chapters' title="load a file, but not twice">Use</a>, <a href="refchapter23.html#For" target='Chapters' title="C-style <b><tt>for</tt></b> loop">For</a>, <a href="refchapter23.html#ForEach" target='Chapters' title="loop over all entries in list">ForEach</a>, <a href="refchapter23.html#Apply" target='Chapters' title="apply a function to arguments">Apply</a>, <a href="refchapter23.html#MapArgs" target='Chapters' title="apply a function to all top-level arguments">MapArgs</a>, <a href="refchapter23.html#Subst" target='Chapters' title="perform a substitution">Subst</a>, <a href="refchapter23.html#WithValue" target='Chapters' title="temporary assignment during an evaluation">WithValue</a>, <a href="refchapter23.html#/:" target='Chapters' title="local simplification rules">/:</a>, <a href="refchapter23.html#/::" target='Chapters' title="local simplification rules">/::</a>, <a href="refchapter23.html#TraceStack" target='Chapters' title="show calling stack after an error occurs">TraceStack</a>, <a href="refchapter23.html#TraceExp" target='Chapters' title="evaluate with tracing enabled">TraceExp</a>, <a href="refchapter23.html#TraceRule" target='Chapters' title="turn on tracing for a particular function">TraceRule</a>, <a href="refchapter23.html#Time" target='Chapters' title="measure the time taken by a function">Time</a>.
)<h1>
23. Control flow functions
</h1>
<p> </p>
<center><table>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#MaxEvalDepth" target='Chapters' title="set the maximum evaluation depth">MaxEvalDepth</a></td>
<td>set the maximum evaluation depth</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Hold" target='Chapters' title="keep expression unevaluated">Hold</a></td>
<td>keep expression unevaluated</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Eval" target='Chapters' title="force evaluation of expression">Eval</a></td>
<td>force evaluation of expression</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#While" target='Chapters' title="loop while a condition is met">While</a></td>
<td>loop while a condition is met</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Until" target='Chapters' title="loop until a condition is met">Until</a></td>
<td>loop until a condition is met</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#If" target='Chapters' title="branch point">If</a></td>
<td>branch point</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#SystemCall" target='Chapters' title="pass a command to the shell">SystemCall</a></td>
<td>pass a command to the shell</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Function" target='Chapters' title="declare or define a function">Function</a></td>
<td>declare or define a function</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Macro" target='Chapters' title="declare or define a macro">Macro</a></td>
<td>declare or define a macro</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Use" target='Chapters' title="load a file, but not twice">Use</a></td>
<td>load a file, but not twice</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#For" target='Chapters' title="C-style <b><tt>for</tt></b> loop">For</a></td>
<td>C-style <b><tt>for</tt></b> loop</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#ForEach" target='Chapters' title="loop over all entries in list">ForEach</a></td>
<td>loop over all entries in list</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Apply" target='Chapters' title="apply a function to arguments">Apply</a></td>
<td>apply a function to arguments</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#MapArgs" target='Chapters' title="apply a function to all top-level arguments">MapArgs</a></td>
<td>apply a function to all top-level arguments</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Subst" target='Chapters' title="perform a substitution">Subst</a></td>
<td>perform a substitution</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#WithValue" target='Chapters' title="temporary assignment during an evaluation">WithValue</a></td>
<td>temporary assignment during an evaluation</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#/:" target='Chapters' title="local simplification rules">/:</a></td>
<td>local simplification rules</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#/::" target='Chapters' title="local simplification rules">/::</a></td>
<td>local simplification rules</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#TraceStack" target='Chapters' title="show calling stack after an error occurs">TraceStack</a></td>
<td>show calling stack after an error occurs</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#TraceExp" target='Chapters' title="evaluate with tracing enabled">TraceExp</a></td>
<td>evaluate with tracing enabled</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#TraceRule" target='Chapters' title="turn on tracing for a particular function">TraceRule</a></td>
<td>turn on tracing for a particular function</td>
</tr>
<tr BGCOLOR=#E0E0E0>
<td><a href="refchapter23.html#Time" target='Chapters' title="measure the time taken by a function">Time</a></td>
<td>measure the time taken by a function</td>
</tr>
</table></center>
<a name="MaxEvalDepth">

</a>
<a name="maxevaldepth">

</a>
<h3>
<hr>MaxEvalDepth -- set the maximum evaluation depth
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
MaxEvalDepth(n)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>n</tt></b> -- new maximum evaluation depth


<p>

<h5>
Description:
</h5>
Use this command to set the maximum evaluation depth to the integer
"n". The default value is 1000. The function <b><tt>MaxEvalDepth</tt></b> returns <b><tt>True</tt></b>.


<p>
The point of having a maximum evaluation depth is to catch any
infinite recursion. For example, after the definition <b><tt>f(x) := f(x)</tt></b>, evaluating the expression <b><tt>f(x)</tt></b> would call <b><tt>f(x)</tt></b>, which would
call <b><tt>f(x)</tt></b>, etc. The interpreter will halt if
the maximum evaluation depth is reached. Also indirect recursion, e.g.
the pair of definitions <b><tt>f(x) := g(x)</tt></b> and <b><tt>g(x) := f(x)</tt></b>, will be caught.


<p>

<h5>
Examples:
</h5>
An example of an infinite recursion, caught because the maximum
evaluation depth is reached.


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; f(x) := f(x)
Out&gt; True;
In&gt; f(x)
Error on line 1 in file [CommandLine]
Max evaluation stack depth reached.
Please use MaxEvalDepth to increase the stack
size as needed.
</pre></tr>
</table>


<p>
However, a long calculation may cause the maximum evaluation depth to
be reached without the presence of infinite recursion. The function <b><tt>MaxEvalDepth</tt></b> is meant for these cases.


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; 10 # g(0) &lt;-- 1;
Out&gt; True;
In&gt; 20 # g(n_IsPositiveInteger) &lt;-- \
  2 * g(n-1);
Out&gt; True;
In&gt; g(1001);
Error on line 1 in file [CommandLine]
Max evaluation stack depth reached.
Please use MaxEvalDepth to increase the stack
size as needed.

In&gt; MaxEvalDepth(10000);
Out&gt; True;
In&gt; g(1001);
Out&gt; 21430172143725346418968500981200036211228096234
1106721488750077674070210224987224498639675763139171
6255189345835106293650374290571384628087196915514939
7149607869135549648461970842149210124742283755908364
3060929499671638825347975351183310878921541258291423
92955373084335320859663305248773674411336138752;
</pre></tr>
</table>


<p>

<a name="Hold">

</a>
<a name="hold">

</a>
<h3>
<hr>Hold -- keep expression unevaluated
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Hold(expr)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>expr</tt></b> -- expression to keep unevaluated


<p>

<h5>
Description:
</h5>
The expression "expr" is returned unevaluated. This is useful to
prevent the evaluation of a certain expression in a context in which
evaluation normally takes place.


<p>
The function <b><tt>UnList()</tt></b> also leaves its result unevaluated. Both functions stop the process of evaluation (no more rules will be applied).


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Echo({ Hold(1+1), "=", 1+1 });
 1+1 = 2
Out&gt; True;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?Eval" target="Chapters">
Eval
</a>
, <a href="ref.html?HoldArg" target="Chapters">
HoldArg
</a>
, <a href="ref.html?UnList" target="Chapters">
UnList
</a>
.<a name="Eval">

</a>
<a name="eval">

</a>
<h3>
<hr>Eval -- force evaluation of expression
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Eval(expr)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>expr</tt></b> -- expression to evaluate


<p>

<h5>
Description:
</h5>
This function explicitly requests an evaluation of the expression
"expr", and returns the result of this evaluation.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; a := x;
Out&gt; x;
In&gt; x := 5;
Out&gt; 5;
In&gt; a;
Out&gt; x;
In&gt; Eval(a);
Out&gt; 5;
</pre></tr>
</table>


<p>
The variable <b><tt>a</tt></b> is bound to <b><tt>x</tt></b>,
and <b><tt>x</tt></b> is bound to 5. Hence evaluating <b><tt>a</tt></b> will give <b><tt>x</tt></b>. Only when an extra
evaluation of <b><tt>a</tt></b> is requested, the value 5 is
returned.


<p>
Note that the behavior would be different if we had exchanged the
assignments. If the assignment <b><tt>a := x</tt></b> were given
while <b><tt>x</tt></b> had the value 5, the variable <b><tt>a</tt></b> would also get the value 5 because the assignment
operator <b><tt>:=</tt></b> evaluates the right-hand side.


<p>

<h5>
See also:
</h5>
<a href="ref.html?Hold" target="Chapters">
Hold
</a>
, <a href="ref.html?HoldArg" target="Chapters">
HoldArg
</a>
, <a href="ref.html?:=" target="Chapters">
:=
</a>
.<a name="While">

</a>
<a name="while">

</a>
<h3>
<hr>While -- loop while a condition is met
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
While(pred) body
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>pred</tt></b> -- predicate deciding whether to keep on looping


<p>
<b><tt>body</tt></b> -- expression to loop over


<p>

<h5>
Description:
</h5>
Keep on evaluating "body" while "pred" evaluates to <b><tt>True</tt></b>. More precisely, <b><tt>While</tt></b>
evaluates the predicate "pred", which should evaluate to either <b><tt>True</tt></b> or <b><tt>False</tt></b>. If the result is <b><tt>True</tt></b>, the expression "body" is evaluated and then
the predicate "pred" is again evaluated. If it is still <b><tt>True</tt></b>, the expressions "body" and "pred" are again
evaluated and so on until "pred" evaluates to <b><tt>False</tt></b>. At that point, the loop terminates and <b><tt>While</tt></b>
returns <b><tt>True</tt></b>.


<p>
In particular, if "pred" immediately evaluates to <b><tt>False</tt></b>, the body is never executed. <b><tt>While</tt></b> is the fundamental looping construct on which
all other loop commands are based. It is equivalent to the <b><tt>while</tt></b> command in the programming language C.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; x := 0;
Out&gt; 0;
In&gt; While (x! &lt; 10^6) \
  [ Echo({x, x!}); x++; ];
 0  1
 1  1
 2  2
 3  6
 4  24
 5  120
 6  720
 7  5040
 8  40320
 9  362880
Out&gt; True;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?Until" target="Chapters">
Until
</a>
, <a href="ref.html?For" target="Chapters">
For
</a>
.<a name="Until">

</a>
<a name="until">

</a>
<h3>
<hr>Until -- loop until a condition is met
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Until(pred) body
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>pred</tt></b> -- predicate deciding whether to stop


<p>
<b><tt>body</tt></b> -- expression to loop over


<p>

<h5>
Description:
</h5>
Keep on evaluating "body" until "pred" becomes <b><tt>True</tt></b>. More precisely, <b><tt>Until</tt></b> first
evaluates the expression "body". Then the predicate "pred" is
evaluated, which should yield either <b><tt>True</tt></b> or <b><tt>False</tt></b>. In the latter case, the expressions "body"
and "pred" are again evaluated and this continues as long as
"pred" is <b><tt>False</tt></b>. As soon as "pred" yields <b><tt>True</tt></b>, the loop terminates and <b><tt>Until</tt></b> returns <b><tt>True</tt></b>.


<p>
The main difference with <b><tt>While</tt></b> is that <b><tt>Until</tt></b> always evaluates the body at least once, but <b><tt>While</tt></b> may not evaluate the body at all. Besides, the
meaning of the predicate is reversed: <b><tt>While</tt></b> stops
if "pred" is <b><tt>False</tt></b> while <b><tt>Until</tt></b> stops if "pred" is <b><tt>True</tt></b>.
The command
<b><tt>Until(pred) body;</tt></b> is equivalent to <b><tt>pred; While(Not pred) body;</tt></b>. In fact, the
implementation of <b><tt>Until</tt></b> is based on the internal
command <b><tt>While</tt></b>. The <b><tt>Until</tt></b>
command can be compared to the <b><tt>do ... while</tt></b>
construct in the programming language C.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; x := 0;
Out&gt; 0;
In&gt; Until (x! &gt; 10^6) \
  [ Echo({x, x!}); x++; ];
 0  1
 1  1
 2  2
 3  6
 4  24
 5  120
 6  720
 7  5040
 8  40320
 9  362880
Out&gt; True;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?While" target="Chapters">
While
</a>
, <a href="ref.html?For" target="Chapters">
For
</a>
.<a name="If">

</a>
<a name="if">

</a>
<h3>
<hr>If -- branch point
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
If(pred, then)
If(pred, then, else)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>pred</tt></b> -- predicate to test


<p>
<b><tt>then</tt></b> -- expression to evaluate if "pred" is <b><tt>True</tt></b>


<p>
<b><tt>else</tt></b> -- expression to evaluate if "pred" is <b><tt>False</tt></b>


<p>

<h5>
Description:
</h5>
This command implements a branch point. The predicate "pred" is
evaluated, which should result in either <b><tt>True</tt></b> or <b><tt>False</tt></b>. In the first case, the expression "then" is
evaluated and returned. If the predicate yields <b><tt>False</tt></b>, the expression "else" (if present) is evaluated and
returned. If there is no "else" branch (i.e. if the first calling
sequence is used), the <b><tt>If</tt></b> expression returns <b><tt>False</tt></b>.


<p>

<h5>
Examples:
</h5>
The sign function is defined to be 1 if its argument is positive and
-1 if its argument is negative. A possible implementation is
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; mysign(x) := If (IsPositiveReal(x), 1, -1);
Out&gt; True;
In&gt; mysign(Pi);
Out&gt; 1;
In&gt; mysign(-2.5);
Out&gt; -1;
</pre></tr>
</table>
Note that this will give incorrect results, if "x" cannot be
numerically approximated.
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; mysign(a);
Out&gt; -1;
</pre></tr>
</table>
Hence a better implementation would be
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; mysign(_x)_IsNumber(N(x)) &lt;-- If \
  (IsPositiveReal(x), 1, -1);
Out&gt; True;
</pre></tr>
</table>


<p>

<a name="SystemCall">

</a>
<a name="systemcall">

</a>
<h3>
<hr>SystemCall -- pass a command to the shell
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
SystemCall(str)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>str</tt></b> -- string containing the command to call


<p>

<h5>
Description:
</h5>
The command contained in the string "str" is executed by the
underlying operating system (OS).
The return value of <b><tt>SystemCall</tt></b> is <b><tt>True</tt></b> or <b><tt>False</tt></b> according to the exit code of the command.


<p>
The <b><tt>SystemCall</tt></b> function is not allowed in the body of the <b><tt>Secure</tt></b> command and will lead to an error.


<p>

<h5>
Examples:
</h5>
In a UNIX environment, the command <b><tt>SystemCall("ls")</tt></b> would print the contents of the current directory.


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; SystemCall("ls")
AUTHORS
COPYING
ChangeLog
</pre></tr>
</table>
... (truncated to save space)
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Out&gt; True;
</pre></tr>
</table>


<p>
The standard UNIX command <b><tt>test</tt></b> returns success or failure depending on conditions.
For example, the following command will check if a directory exists:


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; SystemCall("test -d scripts/")
Out&gt; True;
</pre></tr>
</table>


<p>
Check that a file exists:
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; SystemCall("test -f COPYING")
Out&gt; True;
In&gt; SystemCall("test -f nosuchfile.txt")
Out&gt; False;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?Secure" target="Chapters">
Secure
</a>
.<a name="Function">

</a>
<a name="function">

</a>
<h3>
<hr>Function -- declare or define a function
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Function() func(arglist)
Function() func(arglist, ...)
Function("op", {arglist}) body
Function("op", {arglist, ...}) body
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>func(args)</tt></b> -- function declaration, e.g. <b><tt>f(x,y)</tt></b>


<p>
<b><tt>"op"</tt></b> -- string, name of the function


<p>
<b><tt>{arglist}</tt></b> -- list of atoms, formal arguments to the function


<p>
<b><tt>...</tt></b> -- literal ellipsis symbol "<b><tt>...</tt></b>" used to denote a variable number of arguments


<p>
<b><tt>body</tt></b> -- expression comprising the body of the function


<p>

<h5>
Description:
</h5>
This command can be used to define a new function with named arguments.


<p>
The number of arguments of the new function and their names are determined by the list <b><tt>arglist</tt></b>. If the ellipsis "<b><tt>...</tt></b>" follows the last atom in <b><tt>arglist</tt></b>, a function with a variable number of arguments is declared (using <b><tt>RuleBaseListed</tt></b>). Note that the ellipsis cannot be the only element of <b><tt>arglist</tt></b> and <i>must</i> be preceded by an atom.


<p>
A function with variable number of arguments can take more arguments than elements in <b><tt>arglist</tt></b>; in this case, it obtains its last argument as a list containing all extra arguments.


<p>
The short form of the <b><tt>Function</tt></b> call merely declares a <b><tt>RuleBase</tt></b> for the new function but does not define any function body. This is a convenient shorthand for <b><tt>RuleBase</tt></b> and <b><tt>RuleBaseListed</tt></b>, when definitions of the function are to be supplied by rules. If the new function has been already declared with the same number of arguments (with or without variable arguments), <b><tt>Function</tt></b> returns false and does nothing.


<p>
The second, longer form of the <b><tt>Function</tt></b> call declares a function and also defines a function body. It is equivalent to a
single rule such as <b><tt>op(_arg1, _arg2) &lt;-- body</tt></b>. The rule will be declared at
precedence 1025. Any previous rules associated with <b><tt>"op"</tt></b> (with the same
arity) will be discarded. More complicated functions (with more than one body)
can be defined by adding more rules.


<p>

<h5>
Examples:
</h5>
This will declare a new function with two or more arguments, but define no rules for it. This is equivalent to <b><tt>RuleBase ("f1", {x, y, ...})</tt></b>.
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Function() f1(x,y,...);
Out&gt; True;
In&gt; Function() f1(x,y);
Out&gt; False;
</pre></tr>
</table>


<p>
This defines a function <b><tt>FirstOf</tt></b> which returns the
first element of a list. Equivalent definitions would be
<b><tt>FirstOf(_list) &lt;-- list[1]</tt></b> or <b><tt>FirstOf(list) := list[1]</tt></b>.
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Function("FirstOf", {list})  list[1];
Out&gt; True;
In&gt; FirstOf({a,b,c});
Out&gt; a;
</pre></tr>
</table>


<p>
The following function will print all arguments to a string:
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Function("PrintAll",{x, ...}) If(IsList(x),
  PrintList(x), ToString()Write(x));
Out&gt; True;
In&gt; PrintAll(1):
Out&gt; " 1";
In&gt; PrintAll(1,2,3);
Out&gt; " 1 2 3";
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?TemplateFunction" target="Chapters">
TemplateFunction
</a>
, <a href="ref.html?Rule" target="Chapters">
Rule
</a>
, <a href="ref.html?RuleBase" target="Chapters">
RuleBase
</a>
, <a href="ref.html?RuleBaseListed" target="Chapters">
RuleBaseListed
</a>
, <a href="ref.html?:=" target="Chapters">
:=
</a>
, <a href="ref.html?Retract" target="Chapters">
Retract
</a>
.<a name="Macro">

</a>
<a name="macro">

</a>
<h3>
<hr>Macro -- declare or define a macro
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Macro() func(arglist)
Macro() func(arglist, ...)
Macro("op", {arglist}) body
Macro("op", {arglist, ...}) body
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>func(args)</tt></b> -- function declaration, e.g. <b><tt>f(x,y)</tt></b>


<p>
<b><tt>"op"</tt></b> -- string, name of the function


<p>
<b><tt>{arglist}</tt></b> -- list of atoms, formal arguments to the function


<p>
<b><tt>...</tt></b> -- literal ellipsis symbol "<b><tt>...</tt></b>" used to denote a variable number of arguments


<p>
<b><tt>body</tt></b> -- expression comprising the body of the function


<p>

<h5>
Description:
</h5>
This does the same as <b><tt>Function</tt></b>, but for macros. One can define a macro
easily with this function, in stead of having to use <b><tt>DefMacroRuleBase</tt></b>.


<p>

<h5>
Examples:
</h5>
the following example defines a looping function.


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Macro("myfor",{init,pred,inc,body}) [@init;While(@pred)[@body;@inc;];True;];
Out&gt; True;
In&gt; a:=10
Out&gt; 10;
</pre></tr>
</table>


<p>
Here this new macro <b><tt>myfor</tt></b> is used to loop, using a variable <b><tt>a</tt></b> from the
calling environment.


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; myfor(i:=1,i&lt;10,i++,Echo(a*i))
10 
20 
30 
40 
50 
60 
70 
80 
90 
Out&gt; True;
In&gt; i
Out&gt; 10;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?Function" target="Chapters">
Function
</a>
, <a href="ref.html?DefMacroRuleBase" target="Chapters">
DefMacroRuleBase
</a>
.<a name="Use">

</a>
<a name="use">

</a>
<h3>
<hr>Use -- load a file, but not twice
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Use(name)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>name</tt></b> -- name of the file to load


<p>

<h5>
Description:
</h5>
If the file "name" has been loaded before, either by an earlier call
to <b><tt>Use</tt></b> or via the <b><tt>DefLoad</tt></b>
mechanism, nothing happens. Otherwise all expressions in the file are
read and evaluated. <b><tt>Use</tt></b> always returns <b><tt>True</tt></b>.


<p>
The purpose of this function is to make sure that the file will at
least have been loaded, but is not loaded twice.


<p>

<h5>
See also:
</h5>
<a href="ref.html?Load" target="Chapters">
Load
</a>
, <a href="ref.html?DefLoad" target="Chapters">
DefLoad
</a>
, <a href="ref.html?DefaultDirectory" target="Chapters">
DefaultDirectory
</a>
.<a name="For">

</a>
<a name="for">

</a>
<h3>
<hr>For -- C-style <b><tt>for</tt></b> loop
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
For(init, pred, incr) body
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>init</tt></b> -- expression for performing the initialization


<p>
<b><tt>pred</tt></b> -- predicate deciding whether to continue the loop


<p>
<b><tt>incr</tt></b> -- expression to increment the counter


<p>
<b><tt>body</tt></b> -- expression to loop over


<p>

<h5>
Description:
</h5>
This commands implements a C style <b><tt>for</tt></b> loop. First
of all, the expression "init" is evaluated. Then the predicate
"pred" is evaluated, which should return <b><tt>True</tt></b> or
<b><tt>False</tt></b>. Next the loop is executed as long as the
predicate yields <b><tt>True</tt></b>. One traversal of the loop
consists of the subsequent evaluations of "body", "incr", and
"pred". Finally, the value <b><tt>True</tt></b> is returned.


<p>
This command is most often used in a form such as <b><tt>For(i=1, i&lt;=10, i++) body</tt></b>, which evaluates <b><tt>body</tt></b> with
<b><tt>i</tt></b> subsequently set to 1, 2, 3, 4, 5, 6, 7, 8, 9,
and 10.


<p>
The expression <b><tt>For(init, pred, incr) body</tt></b> is
equivalent to <b><tt>init; While(pred) [body; incr;]</tt></b>.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; For (i:=1, i&lt;=10, i++) Echo({i, i!});
 1  1
 2  2
 3  6
 4  24
 5  120
 6  720
 7  5040
 8  40320
 9  362880
 10  3628800
Out&gt; True;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?While" target="Chapters">
While
</a>
, <a href="ref.html?Until" target="Chapters">
Until
</a>
, <a href="ref.html?ForEach" target="Chapters">
ForEach
</a>
.<a name="ForEach">

</a>
<a name="foreach">

</a>
<h3>
<hr>ForEach -- loop over all entries in list
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
ForEach(var, list) body
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>var</tt></b> -- looping variable


<p>
<b><tt>list</tt></b> -- list of values to assign to "var"


<p>
<b><tt>body</tt></b> -- expression to evaluate with different values of "var"


<p>

<h5>
Description:
</h5>
The expression "body" is evaluated multiple times. The first time,
"var" has the value of the first element of "list", then it gets
the value of the second element and so on. <b><tt>ForEach</tt></b>
returns <b><tt>True</tt></b>.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
 In&gt; ForEach(i,{2,3,5,7,11}) Echo({i, i!});
 2  2
 3  6
 5  120
 7  5040
 11  39916800
Out&gt; True;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?For" target="Chapters">
For
</a>
.<a name="Apply">

</a>
<a name="apply">

</a>
<h3>
<hr>Apply -- apply a function to arguments
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Apply(fn, arglist)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>fn</tt></b> -- function to apply


<p>
<b><tt>arglist</tt></b> -- list of arguments


<p>

<h5>
Description:
</h5>
This function applies the function "fn" to the arguments in
"arglist" and returns the result. The first parameter "fn" can
either be a string containing the name of a function  or a pure
function. Pure functions, modeled after lambda-expressions, have the
form "<b><tt>varlist,body</tt></b>", where "varlist" is the list of formal
parameters. Upon application, the formal parameters are assigned the
values in "arglist" (the second parameter of <b><tt>Apply</tt></b>) and the "body" is evaluated.


<p>
Another way to define a pure function is with the Lambda construct.
Here, in stead of passing in "<b><tt>varlist,body</tt></b>", one can pass in
"Lambda(varlist,body)". Lambda has the advantage that its arguments
are not evaluated (using lists can have undesirable effects because
lists are evaluated). Lambda can be used everywhere a pure function
is expected, in principle, because the function Apply is the only function
dealing with pure functions. So all places where a pure function can
be passed in will also accept Lambda.


<p>
An shorthand for <b><tt>Apply</tt></b> is provided by the <b><tt>@</tt></b> operator.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Apply("+", {5,9});
Out&gt; 14;
In&gt; Apply({{x,y}, x-y^2}, {Cos(a), Sin(a)});
Out&gt; Cos(a)-Sin(a)^2;
In&gt;  Apply(Lambda({x,y}, x-y^2), {Cos(a), Sin(a)});
Out&gt; Cos(a)-Sin(a)^2
In&gt;  Lambda({x,y}, x-y^2) @ {Cos(a), Sin(a)}
Out&gt; Cos(a)-Sin(a)^2
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?Map" target="Chapters">
Map
</a>
, <a href="ref.html?MapSingle" target="Chapters">
MapSingle
</a>
, <a href="ref.html?@" target="Chapters">
@
</a>
.<a name="MapArgs">

</a>
<a name="mapargs">

</a>
<h3>
<hr>MapArgs -- apply a function to all top-level arguments
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
MapArgs(expr, fn)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>expr</tt></b> -- an expression to work on


<p>
<b><tt>fn</tt></b> -- an operation to perform on each argument


<p>

<h5>
Description:
</h5>
Every top-level argument in "expr" is substituted by the result of
applying "fn" to this argument. Here "fn" can be either the name
of a function or a pure function (see Apply for more information on 
pure functions).


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; MapArgs(f(x,y,z),"Sin");
Out&gt; f(Sin(x),Sin(y),Sin(z));
In&gt; MapArgs({3,4,5,6}, {{x},x^2});
Out&gt; {9,16,25,36};
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?MapSingle" target="Chapters">
MapSingle
</a>
, <a href="ref.html?Map" target="Chapters">
Map
</a>
, <a href="ref.html?Apply" target="Chapters">
Apply
</a>
.<a name="Subst">

</a>
<a name="subst">

</a>
<h3>
<hr>Subst -- perform a substitution
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Subst(from, to) expr
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>from</tt></b> -- expression to be substituted


<p>
<b><tt>to</tt></b> -- expression to substitute for "from"


<p>
<b><tt>expr</tt></b> -- expression in which the substitution takes place


<p>

<h5>
Description:
</h5>
This function substitutes every occurrence of "from" in "expr" by
"to". This is a syntactical substitution: only places where "from"
occurs as a subexpression are affected.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Subst(x, Sin(y)) x^2+x+1;
Out&gt; Sin(y)^2+Sin(y)+1;
In&gt; Subst(a+b, x) a+b+c;
Out&gt; x+c;
In&gt; Subst(b+c, x) a+b+c;
Out&gt; a+b+c;
</pre></tr>
</table>


<p>
The explanation for the last result is that the expression <b><tt>a+b+c</tt></b> is internally stored as <b><tt>(a+b)+c</tt></b>. Hence <b><tt>a+b</tt></b> is a subexpression, but <b><tt>b+c</tt></b> is not.


<p>

<h5>
See also:
</h5>
<a href="ref.html?WithValue" target="Chapters">
WithValue
</a>
, <a href="ref.html?/:" target="Chapters">
/:
</a>
.<a name="WithValue">

</a>
<a name="withvalue">

</a>
<h3>
<hr>WithValue -- temporary assignment during an evaluation
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
WithValue(var, val, expr)
WithValue({var,...}, {val,...}, expr)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>var</tt></b> -- variable to assign to


<p>
<b><tt>val</tt></b> -- value to be assigned to "var"


<p>
<b><tt>expr</tt></b> -- expression to evaluate with "var" equal to "val"


<p>

<h5>
Description:
</h5>
First, the expression "val" is assigned to the variable
"var". Then, the expression "expr" is evaluated and
returned. Finally, the assignment is reversed so that the variable
"var" has the same value as it had before <b><tt>WithValue</tt></b> was evaluated.


<p>
The second calling sequence assigns the first element in the list of
values to the first element in the list of variables, the second value
to the second variable, etc.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; WithValue(x, 3, x^2+y^2+1);
Out&gt; y^2+10;
In&gt; WithValue({x,y}, {3,2}, x^2+y^2+1);
Out&gt; 14;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?Subst" target="Chapters">
Subst
</a>
, <a href="ref.html?/:" target="Chapters">
/:
</a>
.<a name="/:">

</a>
<a name="/:">

</a>
<h3>
<hr>/: -- local simplification rules
</h3>
<a name="/::">

</a>
<a name="/::">

</a>
<h3>
<hr>/:: -- local simplification rules
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
expression /: patterns
expressions /:: patterns
</pre></tr>
</table>
Precedence:

20000

<p>

<h5>
Parameters:
</h5>
<b><tt>expression</tt></b> -- an expression


<p>
<b><tt>patterns</tt></b> -- a list of patterns


<p>

<h5>
Description:
</h5>
Sometimes you have an expression, and you want to use specific
simplification rules on it that are not done by default. This
can be done with the <b><tt>/:</tt></b> and the <b><tt>/::</tt></b> operators. Suppose we have the
expression containing things such as <b><tt>Ln(a*b)</tt></b>, and we want
to change these into <b><tt>Ln(a)+Ln(b)</tt></b>, the easiest way
to do this is using the <b><tt>/:</tt></b> operator, as follows:


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Sin(x)*Ln(a*b)
Out&gt; Sin(x)*Ln(a*b);
In&gt; % /: { Ln(_x*_y) &lt;- Ln(x)+Ln(y) }
Out&gt; Sin(x)*(Ln(a)+Ln(b));
</pre></tr>
</table>


<p>
A whole list of simplification rules can be built up in the list,
and they will be applied to the expression on the left hand side
of <b><tt>/:</tt></b> .


<p>
The forms the patterns can have are one of:


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
pattern &lt;- replacement
{pattern,replacement}
{pattern,postpredicate,replacement}
</pre></tr>
</table>


<p>
Note that for these local rules, <b><tt>&lt;-</tt></b> should be used instead of
<b><tt>&lt;--</tt></b> which would be used in a global rule.


<p>
The <b><tt>/:</tt></b> operator traverses an expression much as <b><tt>Subst</tt></b> does, that is, top
down, trying to apply the rules from the beginning of the list of
rules to the end of the list of rules. If the rules cannot be applied
to an expression, it will try subexpressions of that
expression and so on.


<p>
It might be necessary sometimes to use the <b><tt>/::</tt></b> operator, which
repeatedly applies the <b><tt>/:</tt></b> operator until the result doesn't change
any more. Caution is required, since rules can contradict each other,
which could result in an infinite loop. To detect this situation,
just use /: repeatedly on the expression. The repetitive nature
should become apparent.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Sin(u)*Ln(a*b) /: {Ln(_x*_y) &lt;- Ln(x)+Ln(y)}
Out&gt; Sin(u)*(Ln(a)+Ln(b));
In&gt; Sin(u)*Ln(a*b) /:: { a &lt;- 2, b &lt;- 3 }
Out&gt; Sin(u)*Ln(6);
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?Subst" target="Chapters">
Subst
</a>
.<a name="TraceStack">

</a>
<a name="tracestack">

</a>
<h3>
<hr>TraceStack -- show calling stack after an error occurs
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
TraceStack(expression)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>expression</tt></b> -- an expression to evaluate


<p>

<h5>
Description:
</h5>
TraceStack shows the calling stack after an error occurred.
It shows the last few items on the stack, not to flood the screen.
These are usually the only items of interest on the stack.
This is probably by far the most useful debugging function in
Yacas. It shows the last few things it did just after an error
was generated somewhere.


<p>
For each stack frame, it shows if the function evaluated was a
built-in function or a user-defined function, and for the user-defined
function, the number of the rule it is trying whether it was evaluating
the pattern matcher of the rule, or the body code of the rule.


<p>
This functionality is not offered by default because it slows
down the evaluation code.


<p>

<h5>
Examples:
</h5>
Here is an example of a function calling itself recursively,
causing Yacas to flood its stack:


<p>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; f(x):=f(Sin(x))
Out&gt; True;
In&gt; TraceStack(f(2))
Debug&gt; 982 :  f (Rule # 0 in body)
Debug&gt; 983 :  f (Rule # 0 in body)
Debug&gt; 984 :  f (Rule # 0 in body)
Debug&gt; 985 :  f (Rule # 0 in body)
Debug&gt; 986 :  f (Rule # 0 in body)
Debug&gt; 987 :  f (Rule # 0 in body)
Debug&gt; 988 :  f (Rule # 0 in body)
Debug&gt; 989 :  f (Rule # 0 in body)
Debug&gt; 990 :  f (Rule # 0 in body)
Debug&gt; 991 :  f (Rule # 0 in body)
Debug&gt; 992 :  f (Rule # 0 in body)
Debug&gt; 993 :  f (Rule # 0 in body)
Debug&gt; 994 :  f (Rule # 0 in body)
Debug&gt; 995 :  f (User function)
Debug&gt; 996 :  Sin (Rule # 0 in pattern)
Debug&gt; 997 :  IsList (Internal function)
Error on line 1 in file [CommandLine]
Max evaluation stack depth reached.
Please use MaxEvalDepth to increase the stack
size as needed.
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?TraceExp" target="Chapters">
TraceExp
</a>
, <a href="ref.html?TraceRule" target="Chapters">
TraceRule
</a>
.<a name="TraceExp">

</a>
<a name="traceexp">

</a>
<h3>
<hr>TraceExp -- evaluate with tracing enabled
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
TraceExp(expr)
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>expr</tt></b> -- expression to trace


<p>

<h5>
Description:
</h5>
The expression "expr" is evaluated with the tracing facility turned
on. This means that every subexpression, which is evaluated, is shown
before and after evaluation. Before evaluation, it is shown in the
form <b><tt>TrEnter(x)</tt></b>, where <b><tt>x</tt></b>
denotes the subexpression being evaluated. After the evaluation the
line <b><tt>TrLeave(x,y)</tt></b> is printed, where <b><tt>y</tt></b> is the result of the evaluation. The indentation
shows the nesting level.


<p>
Note that this command usually generates huge amounts of output. A
more specific form of tracing (eg. <b><tt>TraceRule</tt></b>) is
probably more useful  for all but very simple expressions.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; TraceExp(2+3);
  TrEnter(2+3);
    TrEnter(2);
    TrLeave(2, 2);
    TrEnter(3);
    TrLeave(3, 3);
    TrEnter(IsNumber(x));
      TrEnter(x);
      TrLeave(x, 2);
    TrLeave(IsNumber(x),True);
    TrEnter(IsNumber(y));
      TrEnter(y);
      TrLeave(y, 3);
    TrLeave(IsNumber(y),True);
    TrEnter(True);
    TrLeave(True, True);
    TrEnter(MathAdd(x,y));
      TrEnter(x);
      TrLeave(x, 2);
      TrEnter(y);
      TrLeave(y, 3);
    TrLeave(MathAdd(x,y),5);
  TrLeave(2+3, 5);
Out&gt; 5;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?TraceStack" target="Chapters">
TraceStack
</a>
, <a href="ref.html?TraceRule" target="Chapters">
TraceRule
</a>
.<a name="TraceRule">

</a>
<a name="tracerule">

</a>
<h3>
<hr>TraceRule -- turn on tracing for a particular function
</h3>
<h5 align=right>Internal function</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
TraceRule(template) expr
</pre></tr>
</table>


<p>

<h5>
Parameters:
</h5>
<b><tt>template</tt></b> -- template showing the operator to trace


<p>
<b><tt>expr</tt></b> -- expression to evaluate with tracing on


<p>

<h5>
Description:
</h5>
The tracing facility is turned on for subexpressions of the form
"template", and the expression "expr" is evaluated. The template
"template" is an example of the function to trace on. Specifically, all
subexpressions with the same top-level operator and arity as "template"
are shown. The subexpressions are displayed before (indicated with <b><tt>TrEnter</tt></b>) and after (<b><tt>TrLeave</tt></b>)
evaluation. In between, the arguments are shown before and after
evaluation (<b><tt>TrArg</tt></b>). Only functions defined in
scripts can be traced.


<p>
This is useful for tracing a function that is called from within
another function. This way you can see how your function behaves
in the environment it is used in.


<p>

<h5>
Examples:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; TraceRule(x+y) 2+3*5+4;
    TrEnter(2+3*5+4);
      TrEnter(2+3*5);
          TrArg(2, 2);
          TrArg(3*5, 15);
      TrLeave(2+3*5, 17);
        TrArg(2+3*5, 17);
        TrArg(4, 4);
    TrLeave(2+3*5+4, 21);
Out&gt; 21;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?TraceStack" target="Chapters">
TraceStack
</a>
, <a href="ref.html?TraceExp" target="Chapters">
TraceExp
</a>
.<a name="Time">

</a>
<a name="time">

</a>
<h3>
<hr>Time -- measure the time taken by a function
</h3>
<h5 align=right>Standard library</h5><h5>
Calling format:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
Time(expr)
</pre></tr>
</table>

<h5>
Parameters:
</h5>
<b><tt>expr</tt></b> -- any expression

<h5>
Description:
</h5>
The function <b><tt>Time(expr)</tt></b> evaluates the expression <b><tt>expr</tt></b> and prints the time in seconds needed for the evaluation.
The time is printed to the current output stream.
The built-in function <b><tt>GetTime</tt></b> is used for timing.


<p>
The result is the "user time" as reported by the OS, not the real ("wall clock") time.
Therefore, any CPU-intensive processes running alongside Yacas will not significantly affect the result of <b><tt>Time</tt></b>.


<p>

<h5>
Example:
</h5>
<table cellpadding="0" width="100%">
<tr><td width=100% bgcolor="#DDDDEE"><pre>
In&gt; Time(N(MathLog(1000),40))
0.34 seconds taken
Out&gt; 6.9077552789821370520539743640530926228033;
</pre></tr>
</table>


<p>

<h5>
See also:
</h5>
<a href="ref.html?GetTime" target="Chapters">
GetTime
</a>
.
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2425144-1";
urchinTracker();
</script>
</body>

</html>
